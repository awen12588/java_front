{"remainingRequest":"D:\\project\\echo\\echo2.0-admin\\node_modules\\babel-loader\\lib\\index.js!D:\\project\\echo\\echo2.0-admin\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\project\\echo\\echo2.0-admin\\src\\plugins\\audio\\playAudio.js","dependencies":[{"path":"D:\\project\\echo\\echo2.0-admin\\src\\plugins\\audio\\playAudio.js","mtime":1698845798685},{"path":"D:\\project\\echo\\echo2.0-admin\\babel.config.js","mtime":1698845798561},{"path":"D:\\project\\echo\\echo2.0-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1698846198245},{"path":"D:\\project\\echo\\echo2.0-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1698846200682},{"path":"D:\\project\\echo\\echo2.0-admin\\node_modules\\eslint-loader\\index.js","mtime":1698846198776}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJEOi9wcm9qZWN0L2VjaG8vZWNobzIuMC1hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHQuanMiKS5kZWZhdWx0OwpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnB1c2guanMiKTsKdmFyIF90eXBlb2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJEOi9wcm9qZWN0L2VjaG8vZWNobzIuMC1hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy90eXBlb2YuanMiKSk7CnZhciBfY3JlYXRlQ2xhc3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJEOi9wcm9qZWN0L2VjaG8vZWNobzIuMC1hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcy5qcyIpKTsKdmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkQ6L3Byb2plY3QvZWNoby9lY2hvMi4wLWFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrLmpzIikpOwp2YXIgX2RlZmluZVByb3BlcnR5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiRDovcHJvamVjdC9lY2hvL2VjaG8yLjAtYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHkuanMiKSk7CnZhciBfaW5kZXggPSByZXF1aXJlKCJAL3V0aWxzL2luZGV4Iik7CnZhciBQbGF5QXVkaW8gPSBleHBvcnRzLmRlZmF1bHQgPSAvKiNfX1BVUkVfXyovKDAsIF9jcmVhdGVDbGFzczIuZGVmYXVsdCkoCi8qKg0KICog5Yid5aeL5YyWDQogKi8KZnVuY3Rpb24gUGxheUF1ZGlvKF9wYXJhbXMpIHsKICB2YXIgX3RoaXMgPSB0aGlzOwogICgwLCBfY2xhc3NDYWxsQ2hlY2syLmRlZmF1bHQpKHRoaXMsIFBsYXlBdWRpbyk7CiAgLyoqDQogICAqIOmfs+mikeWunuS+iw0KICAgKi8KICAoMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KSh0aGlzLCAiYXVkaW8iLCBudWxsKTsKICAvKioNCiAgICog5b2T5YmN5pKt5pS+5a6e5L6LDQogICAqLwogICgwLCBfZGVmaW5lUHJvcGVydHkyLmRlZmF1bHQpKHRoaXMsICJjdXJyZW50UGxheUF1ZGlvIiwgbnVsbCk7CiAgLyoqDQogICAqIOaYr+WQpuWcqOaSreaUvuS4rQ0KICAgKi8KICAoMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KSh0aGlzLCAiaXNQbGF5IiwgZmFsc2UpOwogIC8qKg0KICAgKiDmkq3mlL7liJfooagNCiAgICovCiAgKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkodGhpcywgInBsYXlMaXN0IiwgW10pOwogIC8qKg0KICAgKiDmkq3mlL7mjojmnYMNCiAgICovCiAgKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkodGhpcywgInBsYXlQZXJtaXNzaW9uIiwgZnVuY3Rpb24gKCkgewogICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBfdGhpcy5wbGF5UGVybWlzc2lvbik7CiAgICAvLyDmkq3mlL7pn7PpopEKICAgIF90aGlzLmF1ZGlvLnBsYXkoKS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgY29uc29sZS5sb2coInBsYXlQZXJtaXNzaW9uIiwgZXJyb3IpOwogICAgICAvLyDkuI3mlK/mjIHoh6rliqjmkq3mlL4KICAgICAgX3RoaXMuZ2V0VXNlck1lZGlhUGVybWlzc2lvbigpOwogICAgfSk7CiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMuYXVkaW8ucGF1c2UoKTsKICAgICAgY29uc29sZS5pbmZvKCLojrflj5blrozmiJAiLCBfdGhpcy5wbGF5TGlzdC5sZW5ndGgpOwogICAgICBpZiAoX3RoaXMucGxheUxpc3QubGVuZ3RoKSB7CiAgICAgICAgLy8g6I635Y+W5o6I5p2D5a6M5oiQ77yM5a2Y5Zyo5bim5pKt5pS+5YiX6KGoIOeri+WNs+aSreaUvgogICAgICAgIF90aGlzLmN1cnJlbnRQbGF5QXVkaW8gPSBfdGhpcy5wbGF5TGlzdFswXTsKICAgICAgICBfdGhpcy5wbGF5KF90aGlzLmN1cnJlbnRQbGF5QXVkaW8sIHRydWUpOwogICAgICB9CiAgICB9LCAxMDApOwogIH0pOwogIC8qKg0KICAgKiDojrflj5blqpLkvZPorr7lpIfmnYPpmZANCiAgICovCiAgKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkodGhpcywgImdldFVzZXJNZWRpYVBlcm1pc3Npb24iLCBmdW5jdGlvbiAoKSB7CiAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7CiAgICAgIGF1ZGlvOiB0cnVlCiAgICB9KS50aGVuKGZ1bmN0aW9uIChzdHJlYW0pIHsKICAgICAgLy8gY29uc29sZS5lcnJvcigi6I635Y+W5aqS5L2T6K6+5aSH5p2D6ZmQ77yaIiwgc3RyZWFtKTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAvLyDnlKjmiLfmi5Lnu53miJbmtY/op4jlmajkuI3mlK/mjIHvvIzmgqjlj6/ku6XlnKjov5nph4zlpITnkIbplJnor68KICAgICAgLy8gY29uc29sZS5lcnJvcigi55So5oi35ouS57ud5oiW5rWP6KeI5Zmo5LiN5pSv5oyB77yaIiwgZXJyb3IpOwogICAgfSk7CiAgfSk7CiAgLyoqDQogICAqIOaSreaUvg0KICAgKi8KICAoMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KSh0aGlzLCAicGxheSIsIGZ1bmN0aW9uICgpIHsKICAgIHZhciBwYXJhbXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHsKICAgICAgc3JjOiAiIiwKICAgICAgY291bnQ6IDEsCiAgICAgIGZvcmNlOiBmYWxzZSwKICAgICAgbG9vcDogZmFsc2UsCiAgICAgIGN1cnJlbnRUaW1lOiAwLAogICAgICB2b2x1bWU6IDAuNQogICAgfTsKICAgIHZhciBwbGF5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTsKICAgIGlmICghKDAsIF9pbmRleC5nZXRJc05vdGljZSkoKSkgewogICAgICByZXR1cm47CiAgICB9CiAgICBjb25zb2xlLmxvZygi6Z+z6aKR5pKt5pS+IiwgcGxheSk7CiAgICBpZiAocGxheSkgewogICAgICBpZiAoX3RoaXMuYXVkaW8uc3JjICE9IHBhcmFtcy5zcmMpIHsKICAgICAgICBfdGhpcy5hdWRpby5zcmMgPSBwYXJhbXMuc3JjOwogICAgICB9CiAgICAgIF90aGlzLmF1ZGlvLmxvb3AgPSBwYXJhbXMubG9vcCB8fCBmYWxzZTsKICAgICAgX3RoaXMuYXVkaW8uY3VycmVudFRpbWUgPSBwYXJhbXMuY3VycmVudFRpbWUgfHwgMDsKICAgICAgX3RoaXMuYXVkaW8udm9sdW1lID0gcGFyYW1zLnZvbHVtZSB8fCAwLjU7CiAgICAgIF90aGlzLmF1ZGlvLnBsYXkoKS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAvLyBjb25zb2xlLmxvZygicGxheSIsIGVycm9yKTsKICAgICAgICBfdGhpcy5nZXRVc2VyTWVkaWFQZXJtaXNzaW9uKCk7CiAgICAgIH0pOwogICAgICBfdGhpcy5pc1BsYXkgPSB0cnVlOwogICAgfSBlbHNlIHsKICAgICAgcGFyYW1zLmNvdW50ID0gcGFyYW1zLmNvdW50IHx8IDE7CiAgICAgIHBhcmFtcy5mb3JjZSA9IHBhcmFtcy5mb3JjZSB8fCBmYWxzZTsKICAgICAgaWYgKHBhcmFtcy5zcmMpIHsKICAgICAgICBpZiAocGFyYW1zLmZvcmNlKSB7CiAgICAgICAgICAvLyDlvLrliLbmkq3mlL4KICAgICAgICAgIF90aGlzLnJlc2V0QXVkaW8oKTsKICAgICAgICB9CiAgICAgICAgX3RoaXMucGxheUxpc3QucHVzaChwYXJhbXMpOwogICAgICAgIGlmICghX3RoaXMuaXNQbGF5KSB7CiAgICAgICAgICAvLyDmnKrlnKjmkq3mlL7ml7bnq4vljbPmkq3mlL4KICAgICAgICAgIF90aGlzLmN1cnJlbnRQbGF5QXVkaW8gPSBfdGhpcy5wbGF5TGlzdFswXTsKICAgICAgICAgIF90aGlzLnBsYXkoX3RoaXMuY3VycmVudFBsYXlBdWRpbywgdHJ1ZSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSk7CiAgLyoqDQogICAqIOaSreaUvuS4i+S4gOS4qijljIXlkKvmrKHmlbApDQogICAqLwogICgwLCBfZGVmaW5lUHJvcGVydHkyLmRlZmF1bHQpKHRoaXMsICJuZXh0IiwgZnVuY3Rpb24gKCkgewogICAgdmFyIGZsYWcgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGZhbHNlOwogICAgaWYgKF90aGlzLnBsYXlMaXN0Lmxlbmd0aCkgewogICAgICBfdGhpcy5hdWRpby5wYXVzZSgpOwogICAgICBfdGhpcy5hdWRpb0VuZGVkKGZsYWcpOwogICAgfQogIH0pOwogIC8qKg0KICAgKiDph43nva7mkq3mlL7lmagNCiAgICovCiAgKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkodGhpcywgInJlc2V0QXVkaW8iLCBmdW5jdGlvbiAoKSB7CiAgICBfdGhpcy5jdXJyZW50UGxheUF1ZGlvID0gbnVsbDsKICAgIF90aGlzLmlzUGxheSA9IGZhbHNlOwogICAgX3RoaXMucGxheUxpc3QubGVuZ3RoID0gMDsKICAgIF90aGlzLmF1ZGlvLnBhdXNlKCk7CiAgICBfdGhpcy5hdWRpby5jdXJyZW50VGltZSA9IDA7CiAgICBfdGhpcy5hdWRpby5zcmMgPSAiIjsKICAgIF90aGlzLmF1ZGlvLmxvb3AgPSBmYWxzZTsKICAgIF90aGlzLmF1ZGlvLnNyYyA9IDA7CiAgICBfdGhpcy5hdWRpby52b2x1bWUgPSAwOwogIH0pOwogIC8qKg0KICAgKiDpn7PpopHliqDovb3lrozmiJANCiAgICovCiAgKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkodGhpcywgImF1ZGlvTG9hZGVkbWV0YWRhdGEiLCBmdW5jdGlvbiAoKSB7CiAgICAvLyBjb25zb2xlLmxvZygi6Z+z6aKR5Yqg6L295a6M5oiQIik7CiAgfSk7CiAgLyoqDQogICAqIOmfs+mikeWKoOi9veWksei0pQ0KICAgKi8KICAoMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KSh0aGlzLCAiYXVkaW9FcnJvciIsIGZ1bmN0aW9uICgpIHsKICAgIC8vIGNvbnNvbGUubG9nKCLpn7PpopHliqDovb3lpLHotKUiKTsKICAgIF90aGlzLmF1ZGlvRW5kZWQoKTsKICB9KTsKICAvKioNCiAgICog6Z+z6aKR5pKt5pS+5LitDQogICAqLwogICgwLCBfZGVmaW5lUHJvcGVydHkyLmRlZmF1bHQpKHRoaXMsICJhdWRpb1BsYXkiLCBmdW5jdGlvbiAoKSB7CiAgICBfdGhpcy5pc1BsYXkgPSB0cnVlOwogICAgLy8gY29uc29sZS5sb2coIumfs+mikeaSreaUvuS4rSIpOwogIH0pOwogIC8qKg0KICAgKiDpn7PpopHmmoLlgZwNCiAgICovCiAgKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkodGhpcywgImF1ZGlvUGF1c2UiLCBmdW5jdGlvbiAoKSB7CiAgICBfdGhpcy5pc1BsYXkgPSBmYWxzZTsKICAgIC8vIGNvbnNvbGUubG9nKCLpn7PpopHmmoLlgZwiKTsKICB9KTsKICAvKioNCiAgICog6Z+z6aKR5pKt5pS+57uT5p2fDQogICAqLwogICgwLCBfZGVmaW5lUHJvcGVydHkyLmRlZmF1bHQpKHRoaXMsICJhdWRpb0VuZGVkIiwgZnVuY3Rpb24gKCkgewogICAgdmFyIF90aGlzJGN1cnJlbnRQbGF5QXVkaTsKICAgIHZhciBmbGFnID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBmYWxzZTsKICAgIC8vIGNvbnNvbGUubG9nKCLpn7PpopHmkq3mlL7nu5PmnZ8iKTsKICAgIGlmICgoMCwgX3R5cGVvZjIuZGVmYXVsdCkoZmxhZykgPT0gIm9iamVjdCIpIHsKICAgICAgZmxhZyA9IGZhbHNlOwogICAgfQogICAgX3RoaXMuaXNQbGF5ID0gZmFsc2U7CiAgICBpZiAoKChfdGhpcyRjdXJyZW50UGxheUF1ZGkgPSBfdGhpcy5jdXJyZW50UGxheUF1ZGlvKSA9PT0gbnVsbCB8fCBfdGhpcyRjdXJyZW50UGxheUF1ZGkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGN1cnJlbnRQbGF5QXVkaS5jb3VudCkgPiAwICYmICFfdGhpcy5jdXJyZW50UGxheUF1ZGlvLmxvb3ApIHsKICAgICAgX3RoaXMuY3VycmVudFBsYXlBdWRpby5jb3VudC0tOwogICAgfQogICAgaWYgKF90aGlzLnBsYXlMaXN0Lmxlbmd0aCkgewogICAgICB2YXIgX3RoaXMkY3VycmVudFBsYXlBdWRpMjsKICAgICAgaWYgKCEoKF90aGlzJGN1cnJlbnRQbGF5QXVkaTIgPSBfdGhpcy5jdXJyZW50UGxheUF1ZGlvKSAhPT0gbnVsbCAmJiBfdGhpcyRjdXJyZW50UGxheUF1ZGkyICE9PSB2b2lkIDAgJiYgX3RoaXMkY3VycmVudFBsYXlBdWRpMi5jb3VudCkgfHwgZmxhZykgewogICAgICAgIF90aGlzLnBsYXlMaXN0LnNoaWZ0KCk7CiAgICAgIH0KICAgICAgX3RoaXMuY3VycmVudFBsYXlBdWRpbyA9IF90aGlzLnBsYXlMaXN0WzBdIHx8IG51bGw7CiAgICAgIGlmIChfdGhpcy5jdXJyZW50UGxheUF1ZGlvKSB7CiAgICAgICAgX3RoaXMucGxheShfdGhpcy5jdXJyZW50UGxheUF1ZGlvLCB0cnVlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBfdGhpcy5hdWRpby5zcmMgPSAiIjsKICAgICAgfQogICAgfQogIH0pOwogIC8qKg0KICAgKiDplIDmr4ENCiAgICovCiAgKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkodGhpcywgInJlbW92ZSIsIGZ1bmN0aW9uICgpIHsKICAgIF90aGlzLnJlc2V0QXVkaW8oKTsKICAgIF90aGlzLmF1ZGlvID0gbnVsbDsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJiZWVwIikucmVtb3ZlKCk7CiAgfSk7CiAgaWYgKCF0aGlzLmF1ZGlvKSB7CiAgICB0aGlzLnBsYXlMaXN0ID0gKF9wYXJhbXMgPT09IG51bGwgfHwgX3BhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3BhcmFtcy5wbGF5TGlzdCkgfHwgW107CiAgICB0aGlzLmF1ZGlvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImF1ZGlvQmVlcCIpIHx8IG51bGw7CiAgICBpZiAoIXRoaXMuYXVkaW8pIHsKICAgICAgdGhpcy5hdWRpbyA9IG5ldyBBdWRpbygpOwogICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZCh0aGlzLmF1ZGlvKTsKICAgIH0KICAgIHRoaXMuYXVkaW8uaWQgPSAiYXVkaW9CZWVwIjsKICAgIHRoaXMuYXVkaW8ubXV0ZWQgPSBmYWxzZTsKICAgIHRoaXMuYXVkaW8uY3VycmVudFRpbWUgPSAwOwogICAgdGhpcy5hdWRpby52b2x1bWUgPSAwOwogICAgLy8g5re75Yqg5LqL5Lu255uR5ZCs5ZmoCiAgICB0aGlzLmF1ZGlvLmFkZEV2ZW50TGlzdGVuZXIoInBsYXkiLCB0aGlzLmF1ZGlvUGxheSk7CiAgICB0aGlzLmF1ZGlvLmFkZEV2ZW50TGlzdGVuZXIoInBhdXNlIiwgdGhpcy5hdWRpb1BhdXNlKTsKICAgIHRoaXMuYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcigiZW5kZWQiLCB0aGlzLmF1ZGlvRW5kZWQpOwogICAgdGhpcy5hdWRpby5hZGRFdmVudExpc3RlbmVyKCJsb2FkZWRtZXRhZGF0YSIsIHRoaXMuYXVkaW9Mb2FkZWRtZXRhZGF0YSk7CiAgICB0aGlzLmF1ZGlvLmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIiwgdGhpcy5hdWRpb0Vycm9yKTsKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgdGhpcy5wbGF5UGVybWlzc2lvbik7CiAgICBkb2N1bWVudC5ib2R5LmNsaWNrKCk7CiAgfQp9KTs="},{"version":3,"names":["_index","require","PlayAudio","exports","default","_createClass2","params","_this","_classCallCheck2","_defineProperty2","document","removeEventListener","playPermission","audio","play","catch","error","console","log","getUserMediaPermission","setTimeout","pause","info","playList","length","currentPlayAudio","navigator","mediaDevices","getUserMedia","then","stream","arguments","undefined","src","count","force","loop","currentTime","volume","getIsNotice","isPlay","resetAudio","push","flag","audioEnded","_this$currentPlayAudi","_typeof2","_this$currentPlayAudi2","shift","getElementById","remove","Audio","body","append","id","muted","addEventListener","audioPlay","audioPause","audioLoadedmetadata","audioError","click"],"sources":["D:/project/echo/echo2.0-admin/src/plugins/audio/playAudio.js"],"sourcesContent":["import { getIsNotice } from \"@/utils/index\";\r\n\r\nexport default class PlayAudio {\r\n  /**\r\n   * 音频实例\r\n   */\r\n  audio = null;\r\n  /**\r\n   * 当前播放实例\r\n   */\r\n  currentPlayAudio = null;\r\n  /**\r\n   * 是否在播放中\r\n   */\r\n  isPlay = false;\r\n  /**\r\n   * 播放列表\r\n   */\r\n  playList = [];\r\n  /**\r\n   * 初始化\r\n   */\r\n  constructor(params) {\r\n    if (!this.audio) {\r\n      this.playList = params?.playList || [];\r\n      this.audio = document.getElementById(\"audioBeep\") || null;\r\n      if (!this.audio) {\r\n        this.audio = new Audio();\r\n        document.body.append(this.audio);\r\n      }\r\n      this.audio.id = \"audioBeep\";\r\n      this.audio.muted = false;\r\n      this.audio.currentTime = 0;\r\n      this.audio.volume = 0;\r\n      // 添加事件监听器\r\n      this.audio.addEventListener(\"play\", this.audioPlay);\r\n      this.audio.addEventListener(\"pause\", this.audioPause);\r\n      this.audio.addEventListener(\"ended\", this.audioEnded);\r\n      this.audio.addEventListener(\"loadedmetadata\", this.audioLoadedmetadata);\r\n      this.audio.addEventListener(\"error\", this.audioError);\r\n\r\n      document.addEventListener(\"click\", this.playPermission);\r\n      document.body.click();\r\n    }\r\n  }\r\n  /**\r\n   * 播放授权\r\n   */\r\n  playPermission = () => {\r\n    document.removeEventListener(\"click\", this.playPermission);\r\n    // 播放音频\r\n    this.audio.play().catch((error) => {\r\n      console.log(\"playPermission\", error);\r\n      // 不支持自动播放\r\n      this.getUserMediaPermission();\r\n    });\r\n    setTimeout(() => {\r\n      this.audio.pause();\r\n      console.info(\"获取完成\", this.playList.length);\r\n      if (this.playList.length) {\r\n        // 获取授权完成，存在带播放列表 立即播放\r\n        this.currentPlayAudio = this.playList[0];\r\n        this.play(this.currentPlayAudio, true);\r\n      }\r\n    }, 100);\r\n  };\r\n  /**\r\n   * 获取媒体设备权限\r\n   */\r\n  getUserMediaPermission = () => {\r\n    navigator.mediaDevices\r\n      .getUserMedia({ audio: true })\r\n      .then(function (stream) {\r\n        // console.error(\"获取媒体设备权限：\", stream);\r\n      })\r\n      .catch(function (error) {\r\n        // 用户拒绝或浏览器不支持，您可以在这里处理错误\r\n        // console.error(\"用户拒绝或浏览器不支持：\", error);\r\n      });\r\n  };\r\n  /**\r\n   * 播放\r\n   */\r\n  play = (\r\n    params = {\r\n      src: \"\",\r\n      count: 1,\r\n      force: false,\r\n      loop: false,\r\n      currentTime: 0,\r\n      volume: 0.5,\r\n    },\r\n    play = false\r\n  ) => {\r\n    if (!getIsNotice()) {\r\n      return;\r\n    }\r\n    console.log(\"音频播放\", play);\r\n    if (play) {\r\n      if (this.audio.src != params.src) {\r\n        this.audio.src = params.src;\r\n      }\r\n      this.audio.loop = params.loop || false;\r\n      this.audio.currentTime = params.currentTime || 0;\r\n      this.audio.volume = params.volume || 0.5;\r\n      this.audio.play().catch((error) => {\r\n        // console.log(\"play\", error);\r\n        this.getUserMediaPermission();\r\n      });\r\n      this.isPlay = true;\r\n    } else {\r\n      params.count = params.count || 1;\r\n      params.force = params.force || false;\r\n      if (params.src) {\r\n        if (params.force) {\r\n          // 强制播放\r\n          this.resetAudio();\r\n        }\r\n        this.playList.push(params);\r\n        if (!this.isPlay) {\r\n          // 未在播放时立即播放\r\n          this.currentPlayAudio = this.playList[0];\r\n          this.play(this.currentPlayAudio, true);\r\n        }\r\n      }\r\n    }\r\n  };\r\n  /**\r\n   * 播放下一个(包含次数)\r\n   */\r\n  next = (flag = false) => {\r\n    if (this.playList.length) {\r\n      this.audio.pause();\r\n      this.audioEnded(flag);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * 重置播放器\r\n   */\r\n  resetAudio = () => {\r\n    this.currentPlayAudio = null;\r\n    this.isPlay = false;\r\n    this.playList.length = 0;\r\n    this.audio.pause();\r\n\r\n    this.audio.currentTime = 0;\r\n    this.audio.src = \"\";\r\n    this.audio.loop = false;\r\n    this.audio.src = 0;\r\n    this.audio.volume = 0;\r\n  };\r\n\r\n  /**\r\n   * 音频加载完成\r\n   */\r\n  audioLoadedmetadata = () => {\r\n    // console.log(\"音频加载完成\");\r\n  };\r\n  /**\r\n   * 音频加载失败\r\n   */\r\n  audioError = () => {\r\n    // console.log(\"音频加载失败\");\r\n    this.audioEnded();\r\n  };\r\n\r\n  /**\r\n   * 音频播放中\r\n   */\r\n  audioPlay = () => {\r\n    this.isPlay = true;\r\n    // console.log(\"音频播放中\");\r\n  };\r\n  /**\r\n   * 音频暂停\r\n   */\r\n  audioPause = () => {\r\n    this.isPlay = false;\r\n    // console.log(\"音频暂停\");\r\n  };\r\n  /**\r\n   * 音频播放结束\r\n   */\r\n  audioEnded = (flag = false) => {\r\n    // console.log(\"音频播放结束\");\r\n    if (typeof flag == \"object\") {\r\n      flag = false;\r\n    }\r\n    this.isPlay = false;\r\n    if (this.currentPlayAudio?.count > 0 && !this.currentPlayAudio.loop) {\r\n      this.currentPlayAudio.count--;\r\n    }\r\n\r\n    if (this.playList.length) {\r\n      if (!this.currentPlayAudio?.count || flag) {\r\n        this.playList.shift();\r\n      }\r\n      this.currentPlayAudio = this.playList[0] || null;\r\n      if (this.currentPlayAudio) {\r\n        this.play(this.currentPlayAudio, true);\r\n      } else {\r\n        this.audio.src = \"\";\r\n      }\r\n    }\r\n  };\r\n  /**\r\n   * 销毁\r\n   */\r\n  remove = () => {\r\n    this.resetAudio();\r\n    this.audio = null;\r\n    document.getElementById(\"beep\").remove();\r\n  };\r\n}\r\n"],"mappings":"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"}]}