import{h as a,M as s,e,r as l,c as t,A as n,o as u,a as i,j as o,u as r,k as c,t as d,q as v,C as m,K as p,s as b}from"./vendor-a95f68e4.js";import{_ as f,r as _,f as I,x as y,ac as h,t as x,e as g}from"./index-e83e29a3.js";import{C as j,P as w}from"./ProductInfo-73acaa3f.js";import{p as q,a as C}from"./index-c68c33a1.js";const S={class:"infoItem"},A={class:"title fw-bold"},P=["placeholder"],U={class:"tip-list"},V={class:"row"},k={class:"label"},L={class:"value"},N={class:"row"},T={class:"label"},B={class:"value"},D={class:"infoItem"},K=f({__name:"apply",setup(f){const{_toast:K}=_(),M=I();M.getUserInfo();const O=a(),Y=s(),Z=e({}),z=l(""),E=t((()=>{var a;let s=0;return M.asset.length&&(s=(null==(a=M.asset.filter((a=>"usdt"===a.symbol))[0])?void 0:a.availableAmount)||0),s})),F=l(),G=()=>{var a;let s={userId:null==(a=M.userInfo.user)?void 0:a.userId,ownId:Z.id,amount:x(null==Z?void 0:Z.price,F.value||0),number:F.value||0};F.value>0&&F.value<Z.numLimit?q(s).then((a=>{"200"==a.code?(K("Subscription_successful"),setTimeout((()=>{O.push("/subscription/order")}),500)):b(a.msg)})):K("Please_ correct_quantity")};return n((()=>{z.value=Y.query.id,(async()=>{if(z.value){const a=await C(z.value);200==a.code&&Object.assign(Z,a.data)}})()})),(a,s)=>(u(),i("div",null,[o(y,{currentName:r(g)("Apply_subscription")},null,8,["currentName"]),o(j,{data:r(Z)},null,8,["data"]),c("div",S,[c("p",A,d(r(g)("Subscription_quantity")),1),v(c("input",{type:"number",class:"numInput",placeholder:r(g)("exchange.input"),"onUpdate:modelValue":s[0]||(s[0]=a=>p(F)?F.value=a:null)},null,8,P),[[m,r(F)]])]),c("div",U,[c("div",V,[c("div",k,d(r(g)("available_quantity")),1),c("div",L,d(r(Z).numLimit)+" "+d(r(Z).showSymbol),1)]),c("div",N,[c("div",T,d(r(g)("exchange_balance")),1),c("div",B,d(r(E)||0)+" USDT",1)])]),c("div",D,[o(w,{data:r(Z)},null,8,["data"])]),c("div",{class:"infoItem btnBox",onClick:G},[o(h,{btnValue:r(g)("btnConfirm")},null,8,["btnValue"])])]))}},[["__scopeId","data-v-f617943b"]]);export{K as default};
