import{_ as a,r as e,e as t,x as s,R as l,c as u}from"./index-e83e29a3.js";import{M as n,r as o,A as i,o as c,a as r,j as m,u as v,k as d,t as p,q as _,C as f,l as y,i as g,s as N}from"./vendor-a95f68e4.js";import{u as b}from"./useFreeze-08cc92b1.js";import{D as h,P as k}from"./productDetail-1cc651e4.js";import{f as C,a as j}from"./index-cc312411.js";const w={class:"columnFlex"},x={key:0},A={class:"introduction"},I={class:"title fw-bold"},U=["placeholder"],D={class:"buyNow"},F={class:"protocol"},L={key:1,class:"success"},M=a({__name:"buyFunds",setup(a){const{_isFreeze:M}=b(),{_toast:P,_showName:R}=e(),q=n(),z=o({leftName:t("starting-amount"),centerName:t("Investment_Limit"),rightName:t("Lock-up_days")}),O=o(""),V=o(""),$=o(""),B=o({}),E=o(!1),G=o(!1),H=o(-1),J=o(0),K=o(0),Q=()=>{if(!E.value)return P("please_agree_financial");if(Number(O.value)<J.value)return N(t("Can_buy_down_to")+" ".concat(J.value," ").concat($.value));if(Number(O.value)>K.value)return N(R("Can_buy_up_to")+" ".concat(K.value," ").concat($.value));if(!/^\d+(\.\d{1,4})?$/.test(O.value))return P("entet4_point");T()},S=()=>{l.includes(__config._APP_ENV)?M(l)&&Q():Q()},T=async()=>{const a=await j(q.params.id,O.value,V.value);200===a.code?(G.value=!0,H.value=-2):N(a.msg)},W=()=>{E.value=!E.value};return i((()=>{(async()=>{try{const a=await C(q.params.id);if(200===a.code){const{title:e,icon:t,avgRate:s,days:l,limitMin:u,limitMax:n,coin:o}=a.data;J.value=u,K.value=n,$.value=o.toUpperCase(),V.value=l,z.value={title:e,icon:t,leftNum:u+" "+o.toUpperCase(),centerNum:n+" "+o.toUpperCase(),rightNum:l,...z.value};const{process:i,totalInvestAmount:c,remainAmount:r,timeLimit:m}=a.data;B.value={title:e,process:i,totalInvestAmount:c,remainAmount:r,timeLimit:m,avgRate:s,coin:o.toUpperCase()}}}catch(a){}})()})),(a,e)=>{const l=u;return c(),r("div",w,[m(s,{currentName:v(t)("buy_funds"),backwardNum:H.value},null,8,["currentName","backwardNum"]),G.value?g("",!0):(c(),r("div",x,[m(h,{headerObj:z.value},null,8,["headerObj"]),d("div",A,[d("div",I,p(v(t)("buy_limit")),1),_(d("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>O.value=a),type:"text",placeholder:v(t)("exchange.input"),class:"quota"},null,8,U),[[f,O.value]])]),m(k,{proDetail:B.value},null,8,["proDetail"]),d("div",D,[d("div",{class:"buyBtn",onClick:S},p(v(t)("to pay")),1),d("div",F,[E.value?g("",!0):(c(),y(l,{key:0,name:"gou",class:"protocolImg",onClick:W})),E.value?(c(),y(l,{key:1,name:"gouH",class:"protocolImg",onClick:W})):g("",!0),d("div",null,p(v(t)("read_and_confirm")),1),d("div",{class:"hightName",onClick:e[1]||(e[1]=e=>a.$router.push("/financialAgreement"))},p(v(t)("financial agreement")),1)])])])),G.value?(c(),r("div",L,[m(l,{name:"icon8",class:"successImg"}),d("div",null,p(v(t)("payment_successful")),1)])):g("",!0)])}}},[["__scopeId","data-v-f0949b88"]]);export{M as default};
